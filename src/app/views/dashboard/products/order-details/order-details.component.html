<div class="main" *ngIf="order$ | async as order;">
  <div class="body">
    <div class="small-cards">
      <div class="card filter-card">
        <div class="list-filters topbar">
          <div class="search-box pay" *ngIf="paymentAction">
              <div class="input-times">
                <!-- Payment Amount ZAR -->
                  <input type="text" class="input-box" [(ngModel)]="amountPaid" placeholder="ðŸ’µ Amount customer paid">
                </div>
                <div class="buttons">
                  <button class="btn btn-transparent" (click)="cancelPayAction()">Abort</button>
                  <button class="btn"  (click)="savePayment(order)" [disabled]="!amountPaid">Save</button>
                </div>
          </div>
          <div>
            <button class="btn btn-transparent" (click)="triggerPaymentAction()"><i class="pi pi-money-bill"></i> Pay</button>
          </div>
          <!-- <div>
            <button class="btn btn-transparent" (click)="print()"><i class="pi pi-pencil"></i> Edit</button>
          </div> -->
          <div>
            <button class="btn btn-transparent" (click)="print(order)"><i class="pi pi-print"></i> Print</button>
          </div>
          <div>
            <button class="btn btn-transparent" (click)="sendInvoice(order)"><i class="pi pi-envelope"></i> Email</button>
          </div>
        </div>
      </div>
    </div>
    <div class="col-1-of-2">

      <div class="order-data">
        <h1 class="heading">
          Order details
          <span class="order-number"> ORD-{{order.OrderId}}</span>
          <span class="order-status"> {{order.Status}}</span>
        </h1>
        <!-- <h1 class="date">
            <span class="label"> Order Date</span>
            {{order.CreateDate | date:'short'}}
          </h1> -->
     <div class="more-details col-1-of-2">
        <div class="col-1-of-2 s10-20">
            <div class="image">
              <img class="ordrer-heading-icons" src="assets/images/pending.svg" alt="">
            </div>
            <h1 class="date">
              <span class="label">Outstanding balance</span>
              {{order.Due | currency:'R'}}
            </h1>
          </div>
          <div class="col-1-of-2 s10-20">
            <div class="image">
              <img class="ordrer-heading-icons" src="assets/images/paid.svg" alt="">
            </div>
            <h1 class="date">
              <span class="label"> Amount paid</span>
              {{order.Paid | currency:'R'}}
            </h1>
          </div>
     </div>

      </div>
      <div class="billto" *ngIf="order.Customer">
        <h3>Billing to</h3>
        <div class="customer">
          <div class="image">
            <img src="assets/user2.svg" alt="">
            <!-- <img src="../../../../../assets/ndu.jpg" alt=""> -->
          </div>
          <div class="name">
            <h1>
              {{order.Customer.Name}}
            </h1>
          </div>
          <div class="phone">
            <h1>
              {{order.Customer.CellphoneNumber}} <br> {{order.Customer.EmailAddress}}
            </h1>
          </div>
          <div class="address">
            <h1>
              {{order.Customer.Address}}
            </h1>
          </div>
        </div>
      </div>
    </div>

    <div class="cards" *ngIf="products$  | async as products">
      <div class="items">
        <span *ngFor="let item of products | searchproduct: search">

          <div class="item">
            <div class="image">
              <img [src]="item.Images[0].Url" alt="" *ngIf="item.Images" />
              <img src="assets/images/placeholder.png" *ngIf="!item.Images" alt="" />
            </div>

            <div class="data">
              <span class="value">{{item.ProductName}}</span>
              <span class="label"> Product Name</span>
            </div>

            <div class="data">
              <span class="value"> {{item.Quantity}} x {{item.UnitPrice  | currency:'R'}} <br></span>
              <span class="label"> QNTY x Price</span>
            </div>

            <div class="data">
              <span class="value"> {{item.subTotal  | currency:'R'}} <br></span>
              <span class="label"> Total</span>
            </div>
          </div>
        </span>

        <div class="item spaccing">
          <div class="data">
            <span class="value total">
              Total:{{total | currency:'R'}}
            </span>
            <span class="value tax">
              <!-- Tax paid {{companyTax * 100}}%: {{total*companyTax | currency:'R'}} -->
            </span>
          </div>
        </div>

      </div>



    </div>





    <div>

    </div>


  </div>
