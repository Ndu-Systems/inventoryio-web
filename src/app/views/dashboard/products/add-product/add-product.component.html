<app-top-heading-back [heading]="topHeading"></app-top-heading-back>
<div class="container">
  <div class="form-section" *ngIf="product">
    <div class="form-items">
      <div class="form-item">
        <div class="item">
          <span class="label">product code (system generated)</span>
          <input type="text" disabled [(ngModel)]="code">
        </div>
      </div>


      <div class="form-item">
        <div class="item">
          <span class="label">product name**</span>
          <input type="text" [(ngModel)]="product.Name" (change)="saveState()">
        </div>
        <div class="status error">
          {{nameError}}
        </div>
      </div>
      <!-- <select [(ngModel)]="product.CatergoryId" (change)="saveState()">
            <option value="">Select Category</option>
            <option *ngFor="let catergory of filteredCategories" [value]="catergory.CatergoryId">
              {{catergory.Label}}
            </option>
          </select> -->

      <div class="form-item">
        <div class="item ">
          <span class="label">select parent catergory</span>

          <div class="categories">
            <div class="parent-categories">
              <div class="catergory" *ngFor="let catergory of parentCategories">
               <p>
                {{catergory.Name}}
               </p>
              </div>
              <div class="catergory add"><i class="pi pi-plus"></i>
                Add New</div>
            </div>
          </div>
        </div>
      </div>



      <div class="form-item">
        <div class="item categories">
          <span class="label">select child catergory</span>
          <div class="categories">
            <div class="parent-categories">
              <div class="catergory" *ngFor="let catergory of childrenCategories">
              <p>
                {{catergory.Name}}
              </p>
              </div>
              <div class="catergory add"><i class="pi pi-plus"></i>
                Add New</div>
            </div>
          </div>
        </div>
      </div>



      <div class="form-item">
        <div class="item">
          <span class="label">product price**</span>
          <input type="number" [(ngModel)]="product.UnitPrice" (change)="saveState()">
        </div>
        <div class="status error">
          {{priceError}}
        </div>
      </div>

      <div class="form-item">
        <div class="item">
          <span class="label">description</span>
          <textarea [(ngModel)]="product.Description" (change)="saveState()"></textarea>
        </div>
        <div class="status">

        </div>
      </div>

      <div class="options">
        <app-product-options></app-product-options>
      </div>
    </div>
  </div>

  <div class="actions-section">
    <div class="actions">
      <div class="action">
        <button class="btn secondary" (click)="back()">Cancel</button>
      </div>
      <div class="action">
        <button class="btn" (click)="save()">Save product</button>
      </div>
    </div>
  </div>
</div>
